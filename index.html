<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Job Application Form</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      padding: 40px 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .container {
      max-width: 700px;
      width: 100%;
    }

    .form-card {
      background: white;
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .form-header {
      padding: 40px 40px 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-align: center;
    }

    .form-header h1 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 8px;
      letter-spacing: -0.02em;
    }

    .form-header p {
      font-size: 15px;
      opacity: 0.9;
    }

    .progress-container {
      padding: 30px 40px;
      background: white;
      border-bottom: 1px solid #f0f0f0;
    }

    .progress-steps {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      position: relative;
    }

    .progress-step {
      flex: 1;
      text-align: center;
      position: relative;
      z-index: 2;
    }

    .step-circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #e8e8e8;
      color: #999;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 10px;
      font-weight: 600;
      font-size: 14px;
      transition: all 0.3s ease;
      border: 3px solid white;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .progress-step.active .step-circle {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      transform: scale(1.1);
    }

    .progress-step.completed .step-circle {
      background: #10b981;
      color: white;
    }

    .step-label {
      font-size: 13px;
      color: #666;
      font-weight: 500;
    }

    .progress-step.active .step-label {
      color: #667eea;
      font-weight: 600;
    }

    .progress-step.completed .step-label {
      color: #10b981;
    }

    .progress-line {
      position: absolute;
      top: 20px;
      left: 0;
      right: 0;
      height: 3px;
      background: #e8e8e8;
      z-index: 1;
    }

    .progress-line-fill {
      height: 100%;
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      transition: width 0.4s ease;
      width: 0%;
    }

    .form-body {
      padding: 40px;
    }

    .form-step {
      display: none;
      animation: slideIn 0.4s ease;
    }

    .form-step.active {
      display: block;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .step-title {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 8px;
      color: #1a1a1a;
      letter-spacing: -0.01em;
    }

    .step-description {
      font-size: 14px;
      color: #666;
      margin-bottom: 30px;
    }

    .form-group {
      margin-bottom: 24px;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    label {
      display: block;
      font-size: 14px;
      font-weight: 600;
      color: #333;
      margin-bottom: 8px;
    }

    .required {
      color: #ef4444;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="url"],
    input[type="date"],
    input[type="number"],
    select,
    textarea {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #e8e8e8;
      border-radius: 10px;
      font-size: 15px;
      font-family: inherit;
      transition: all 0.2s ease;
      background: white;
      color: #333;
    }

    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
    }

    input.error,
    select.error,
    textarea.error {
      border-color: #ef4444;
    }

    input.error:focus,
    select.error:focus,
    textarea.error:focus {
      box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.1);
    }

    textarea {
      min-height: 120px;
      resize: vertical;
    }

    .error-message {
      color: #ef4444;
      font-size: 13px;
      margin-top: 6px;
      display: none;
      font-weight: 500;
    }

    .error-message.show {
      display: block;
    }

    .file-upload {
      border: 2px dashed #e8e8e8;
      border-radius: 10px;
      padding: 24px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s ease;
      background: #fafafa;
    }

    .file-upload:hover {
      border-color: #667eea;
      background: #f8f9ff;
    }

    .file-upload i {
      font-size: 32px;
      color: #999;
      margin-bottom: 12px;
    }

    .file-upload-text {
      font-size: 14px;
      color: #666;
      margin-bottom: 8px;
    }

    .file-upload-hint {
      font-size: 12px;
      color: #999;
    }

    .file-name {
      margin-top: 12px;
      font-size: 13px;
      color: #667eea;
      font-weight: 500;
    }

    .form-actions {
      display: flex;
      gap: 12px;
      margin-top: 40px;
    }

    .btn {
      padding: 14px 28px;
      border: none;
      border-radius: 10px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      justify-content: center;
    }

    .btn-primary {
      flex: 1;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
    }

    .btn-secondary {
      padding: 14px 24px;
      background: #f5f5f5;
      color: #666;
      border: 1px solid #e8e8e8;
    }

    .btn-secondary:hover {
      background: #ebebeb;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .review-section {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .review-section-title {
      font-size: 16px;
      font-weight: 700;
      color: #333;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .review-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #e8e8e8;
    }

    .review-item:last-child {
      border-bottom: none;
    }

    .review-label {
      font-size: 14px;
      color: #666;
      font-weight: 500;
    }

    .review-value {
      font-size: 14px;
      color: #333;
      font-weight: 600;
      text-align: right;
      max-width: 60%;
      word-break: break-word;
    }

    .edit-btn {
      background: none;
      border: none;
      color: #667eea;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      padding: 4px 8px;
      margin-left: 8px;
      border-radius: 6px;
      transition: all 0.2s ease;
    }

    .edit-btn:hover {
      background: #f0f4ff;
    }

    .success-screen {
      display: none;
      text-align: center;
      padding: 60px 40px;
    }

    .success-screen.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    .success-icon {
      font-size: 72px;
      color: #10b981;
      margin-bottom: 24px;
    }

    .success-title {
      font-size: 28px;
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 12px;
    }

    .success-message {
      font-size: 16px;
      color: #666;
      margin-bottom: 32px;
    }

    @media (max-width: 768px) {
      body {
        padding: 20px 16px;
      }

      .form-header {
        padding: 30px 24px 20px;
      }

      .form-header h1 {
        font-size: 24px;
      }

      .progress-container {
        padding: 20px 24px;
      }

      .form-body {
        padding: 30px 24px;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .step-label {
        font-size: 11px;
      }

      .step-circle {
        width: 36px;
        height: 36px;
        font-size: 13px;
      }

      .form-actions {
        flex-direction: column-reverse;
      }

      .btn-secondary {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="form-card">
      <div class="form-header">
        <h1>Job Application</h1>
        <p>Software Engineer Position</p>
      </div>

      <div class="progress-container">
        <div class="progress-steps">
          <div class="progress-line">
            <div class="progress-line-fill" id="progressFill"></div>
          </div>
          
          <div class="progress-step active" data-step="1">
            <div class="step-circle">1</div>
            <div class="step-label">Personal Info</div>
          </div>
          
          <div class="progress-step" data-step="2">
            <div class="step-circle">2</div>
            <div class="step-label">Experience</div>
          </div>
          
          <div class="progress-step" data-step="3">
            <div class="step-circle">3</div>
            <div class="step-label">Review</div>
          </div>
        </div>
      </div>

      <form id="applicationForm" novalidate>
        <div class="form-body">
          <!-- Step 1: Personal Information -->
          <div class="form-step active" data-step="1">
            <h2 class="step-title">Personal Information</h2>
            <p class="step-description">Let's start with your basic details</p>

            <div class="form-row">
              <div class="form-group">
                <label>First Name <span class="required">*</span></label>
                <input type="text" id="firstName" name="firstName" required>
                <div class="error-message" id="firstNameError">First name is required</div>
              </div>

              <div class="form-group">
                <label>Last Name <span class="required">*</span></label>
                <input type="text" id="lastName" name="lastName" required>
                <div class="error-message" id="lastNameError">Last name is required</div>
              </div>
            </div>

            <div class="form-group">
              <label>Email Address <span class="required">*</span></label>
              <input type="email" id="email" name="email" required>
              <div class="error-message" id="emailError">Please enter a valid email</div>
            </div>

            <div class="form-group">
              <label>Phone Number <span class="required">*</span></label>
              <input type="tel" id="phone" name="phone" required>
              <div class="error-message" id="phoneError">Please enter a valid phone number</div>
            </div>

            <div class="form-group">
              <label>LinkedIn Profile</label>
              <input type="url" id="linkedin" name="linkedin" placeholder="https://linkedin.com/in/yourprofile">
              <div class="error-message" id="linkedinError">Please enter a valid URL</div>
            </div>

            <div class="form-group">
              <label>Portfolio/Website</label>
              <input type="url" id="portfolio" name="portfolio" placeholder="https://yourportfolio.com">
              <div class="error-message" id="portfolioError">Please enter a valid URL</div>
            </div>

            <div class="form-actions">
              <button type="button" class="btn btn-primary" onclick="nextStep()">
                Next Step <i class="fas fa-arrow-right"></i>
              </button>
            </div>
          </div>

          <!-- Step 2: Experience -->
          <div class="form-step" data-step="2">
            <h2 class="step-title">Professional Experience</h2>
            <p class="step-description">Tell us about your background</p>

            <div class="form-group">
              <label>Current/Recent Position <span class="required">*</span></label>
              <input type="text" id="position" name="position" required>
              <div class="error-message" id="positionError">Position is required</div>
            </div>

            <div class="form-group">
              <label>Company <span class="required">*</span></label>
              <input type="text" id="company" name="company" required>
              <div class="error-message" id="companyError">Company is required</div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Years of Experience <span class="required">*</span></label>
                <select id="experience" name="experience" required>
                  <option value="">Select...</option>
                  <option value="0-1">0-1 years</option>
                  <option value="1-3">1-3 years</option>
                  <option value="3-5">3-5 years</option>
                  <option value="5-10">5-10 years</option>
                  <option value="10+">10+ years</option>
                </select>
                <div class="error-message" id="experienceError">Please select experience</div>
              </div>

              <div class="form-group">
                <label>Expected Salary <span class="required">*</span></label>
                <input type="number" id="salary" name="salary" placeholder="USD" required>
                <div class="error-message" id="salaryError">Salary is required</div>
              </div>
            </div>

            <div class="form-group">
              <label>Skills <span class="required">*</span></label>
              <input type="text" id="skills" name="skills" placeholder="e.g., JavaScript, React, Node.js" required>
              <div class="error-message" id="skillsError">Skills are required</div>
            </div>

            <div class="form-group">
              <label>Cover Letter <span class="required">*</span></label>
              <textarea id="coverLetter" name="coverLetter" placeholder="Tell us why you'd be a great fit..." required></textarea>
              <div class="error-message" id="coverLetterError">Cover letter is required (min 50 characters)</div>
            </div>

            <div class="form-group">
              <label>Upload Resume (PDF) <span class="required">*</span></label>
              <div class="file-upload" onclick="document.getElementById('resume').click()">
                <i class="fas fa-cloud-upload-alt"></i>
                <div class="file-upload-text">Click to upload or drag & drop</div>
                <div class="file-upload-hint">PDF files only, max 5MB</div>
                <div class="file-name" id="fileName"></div>
              </div>
              <input type="file" id="resume" name="resume" accept=".pdf" style="display: none;" onchange="handleFileUpload(event)">
              <div class="error-message" id="resumeError">Resume is required</div>
            </div>

            <div class="form-actions">
              <button type="button" class="btn btn-secondary" onclick="prevStep()">
                <i class="fas fa-arrow-left"></i> Back
              </button>
              <button type="button" class="btn btn-primary" onclick="nextStep()">
                Review Application <i class="fas fa-arrow-right"></i>
              </button>
            </div>
          </div>

          <!-- Step 3: Review -->
          <div class="form-step" data-step="3">
            <h2 class="step-title">Review Your Application</h2>
            <p class="step-description">Please verify all information before submitting</p>

            <div class="review-section">
              <div class="review-section-title">
                <i class="fas fa-user"></i> Personal Information
                <button type="button" class="edit-btn" onclick="goToStep(1)">
                  <i class="fas fa-edit"></i> Edit
                </button>
              </div>
              <div id="reviewPersonal"></div>
            </div>

            <div class="review-section">
              <div class="review-section-title">
                <i class="fas fa-briefcase"></i> Professional Experience
                <button type="button" class="edit-btn" onclick="goToStep(2)">
                  <i class="fas fa-edit"></i> Edit
                </button>
              </div>
              <div id="reviewExperience"></div>
            </div>

            <div class="form-actions">
              <button type="button" class="btn btn-secondary" onclick="prevStep()">
                <i class="fas fa-arrow-left"></i> Back
              </button>
              <button type="submit" class="btn btn-primary">
                <i class="fas fa-paper-plane"></i> Submit Application
              </button>
            </div>
          </div>

          <!-- Success Screen -->
          <div class="success-screen" id="successScreen">
            <div class="success-icon">
              <i class="fas fa-check-circle"></i>
            </div>
            <h2 class="success-title">Application Submitted!</h2>
            <p class="success-message">
              Thank you for applying. We've received your application and will review it shortly. 
              You should hear back from us within 5-7 business days.
            </p>
            <button type="button" class="btn btn-primary" onclick="resetForm()">
              <i class="fas fa-redo"></i> Submit Another Application
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <script>
    let currentStep = 1;
    const totalSteps = 3;
    let formData = {};
    let uploadedFile = null;

    // Load saved progress from URL or localStorage
    window.addEventListener('load', () => {
      loadProgress();
      restoreFormData();
    });

    function loadProgress() {
      const params = new URLSearchParams(window.location.search);
      const step = params.get('step');
      if (step && step >= 1 && step <= totalSteps) {
        goToStep(parseInt(step));
      }
    }

    function saveProgress() {
      const params = new URLSearchParams(window.location.search);
      params.set('step', currentStep);
      const newUrl = `${window.location.pathname}?${params.toString()}`;
      window.history.replaceState({}, '', newUrl);
      
      // Also save to localStorage
      localStorage.setItem('applicationStep', currentStep);
      localStorage.setItem('applicationData', JSON.stringify(formData));
    }

    function restoreFormData() {
      const saved = localStorage.getItem('applicationData');
      if (saved) {
        try {
          formData = JSON.parse(saved);
          // Populate form fields
          Object.keys(formData).forEach(key => {
            const field = document.getElementById(key);
            if (field && formData[key]) {
              field.value = formData[key];
            }
          });
        } catch (e) {
          console.error('Error restoring form data:', e);
        }
      }
    }

    function nextStep() {
      if (validateStep(currentStep)) {
        saveStepData();
        if (currentStep < totalSteps) {
          currentStep++;
          updateStep();
          saveProgress();
        }
      }
    }

    function prevStep() {
      if (currentStep > 1) {
        saveStepData();
        currentStep--;
        updateStep();
        saveProgress();
      }
    }

    function goToStep(step) {
      if (step >= 1 && step <= totalSteps) {
        saveStepData();
        currentStep = step;
        updateStep();
        saveProgress();
      }
    }

    function updateStep() {
      // Update step visibility
      document.querySelectorAll('.form-step').forEach(step => {
        step.classList.remove('active');
      });
      document.querySelector(`.form-step[data-step="${currentStep}"]`).classList.add('active');

      // Update progress indicators
      document.querySelectorAll('.progress-step').forEach((step, index) => {
        step.classList.remove('active', 'completed');
        if (index + 1 < currentStep) {
          step.classList.add('completed');
          step.querySelector('.step-circle').innerHTML = '<i class="fas fa-check"></i>';
        } else if (index + 1 === currentStep) {
          step.classList.add('active');
          step.querySelector('.step-circle').textContent = index + 1;
        } else {
          step.querySelector('.step-circle').textContent = index + 1;
        }
      });

      // Update progress bar
      const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
      document.getElementById('progressFill').style.width = `${progress}%`;

      // Update review if on step 3
      if (currentStep === 3) {
        updateReview();
      }

      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function saveStepData() {
      const form = document.getElementById('applicationForm');
      const inputs = form.querySelectorAll('input, select, textarea');
      
      inputs.forEach(input => {
        if (input.type !== 'file' && input.value) {
          formData[input.id] = input.value;
        }
      });
    }

    function validateStep(step) {
      let isValid = true;

      if (step === 1) {
        isValid = validateField('firstName', 'firstNameError', value => value.trim().length > 0) && isValid;
        isValid = validateField('lastName', 'lastNameError', value => value.trim().length > 0) && isValid;
        isValid = validateField('email', 'emailError', value => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) && isValid;
        isValid = validateField('phone', 'phoneError', value => /^[\d\s\-\+\(\)]+$/.test(value) && value.length >= 10) && isValid;
        
        // Optional URL fields
        const linkedin = document.getElementById('linkedin').value;
        if (linkedin) {
          isValid = validateField('linkedin', 'linkedinError', value => /^https?:\/\/.+/.test(value)) && isValid;
        }
        
        const portfolio = document.getElementById('portfolio').value;
        if (portfolio) {
          isValid = validateField('portfolio', 'portfolioError', value => /^https?:\/\/.+/.test(value)) && isValid;
        }
      }

      if (step === 2) {
        isValid = validateField('position', 'positionError', value => value.trim().length > 0) && isValid;
        isValid = validateField('company', 'companyError', value => value.trim().length > 0) && isValid;
        isValid = validateField('experience', 'experienceError', value => value.trim().length > 0) && isValid;
        isValid = validateField('salary', 'salaryError', value => value > 0) && isValid;
        isValid = validateField('skills', 'skillsError', value => value.trim().length > 0) && isValid;
        isValid = validateField('coverLetter', 'coverLetterError', value => value.trim().length >= 50) && isValid;
        
        if (!uploadedFile) {
          showError('resumeError', 'resume');
          isValid = false;
        } else {
          hideError('resumeError', 'resume');
        }
      }

      return isValid;
    }

    function validateField(fieldId, errorId, validationFn) {
      const field = document.getElementById(fieldId);
      const value = field.value;

      if (!validationFn(value)) {
        showError(errorId, fieldId);
        return false;
      } else {
        hideError(errorId, fieldId);
        return true;
      }
    }

    function showError(errorId, fieldId) {
      document.getElementById(errorId).classList.add('show');
      document.getElementById(fieldId).classList.add('error');
    }

    function hideError(errorId, fieldId) {
      document.getElementById(errorId).classList.remove('show');
      document.getElementById(fieldId).classList.remove('error');
    }

    function handleFileUpload(event) {
      const file = event.target.files[0];
      if (file) {
        if (file.type !== 'application/pdf') {
          alert('Please upload a PDF file');
          event.target.value = '';
          return;
        }
        if (file.size > 5 * 1024 * 1024) {
          alert('File size must be less than 5MB');
          event.target.value = '';
          return;
        }
        uploadedFile = file;
        document.getElementById('fileName').textContent = `✓ ${file.name}`;
        hideError('resumeError', 'resume');
      }
    }

    function updateReview() {
      // Personal Information
      const personalHTML = `
        <div class="review-item">
          <span class="review-label">Name</span>
          <span class="review-value">${formData.firstName} ${formData.lastName}</span>
        </div>
        <div class="review-item">
          <span class="review-label">Email</span>
          <span class="review-value">${formData.email}</span>
        </div>
        <div class="review-item">
          <span class="review-label">Phone</span>
          <span class="review-value">${formData.phone}</span>
        </div>
        ${formData.linkedin ? `
        <div class="review-item">
          <span class="review-label">LinkedIn</span>
          <span class="review-value">${formData.linkedin}</span>
        </div>` : ''}
        ${formData.portfolio ? `
        <div class="review-item">
          <span class="review-label">Portfolio</span>
          <span class="review-value">${formData.portfolio}</span>
        </div>` : ''}
      `;
      document.getElementById('reviewPersonal').innerHTML = personalHTML;

      // Experience
      const experienceHTML = `
        <div class="review-item">
          <span class="review-label">Position</span>
          <span class="review-value">${formData.position}</span>
        </div>
        <div class="review-item">
          <span class="review-label">Company</span>
          <span class="review-value">${formData.company}</span>
        </div>
        <div class="review-item">
          <span class="review-label">Experience</span>
          <span class="review-value">${formData.experience} years</span>
        </div>
        <div class="review-item">
          <span class="review-label">Expected Salary</span>
          <span class="review-value">${parseInt(formData.salary).toLocaleString()}</span>
        </div>
        <div class="review-item">
          <span class="review-label">Skills</span>
          <span class="review-value">${formData.skills}</span>
        </div>
        <div class="review-item">
          <span class="review-label">Cover Letter</span>
          <span class="review-value">${formData.coverLetter.substring(0, 100)}${formData.coverLetter.length > 100 ? '...' : ''}</span>
        </div>
        ${uploadedFile ? `
        <div class="review-item">
          <span class="review-label">Resume</span>
          <span class="review-value">✓ ${uploadedFile.name}</span>
        </div>` : ''}
      `;
      document.getElementById('reviewExperience').innerHTML = experienceHTML;
    }

    // Form submission
    document.getElementById('applicationForm').addEventListener('submit', (e) => {
      e.preventDefault();
      
      if (validateStep(currentStep)) {
        saveStepData();
        
        // Simulate API submission
        console.log('Submitting application:', formData);
        console.log('Resume file:', uploadedFile);
        
        // Show success screen
        document.querySelectorAll('.form-step').forEach(step => {
          step.classList.remove('active');
        });
        document.getElementById('successScreen').classList.add('show');
        
        // Clear saved progress
        localStorage.removeItem('applicationStep');
        localStorage.removeItem('applicationData');
        
        // Update URL
        const newUrl = window.location.pathname;
        window.history.replaceState({}, '', newUrl);
      }
    });

    function resetForm() {
      // Reset form
      document.getElementById('applicationForm').reset();
      formData = {};
      uploadedFile = null;
      currentStep = 1;
      
      // Hide success screen
      document.getElementById('successScreen').classList.remove('show');
      
      // Show first step
      updateStep();
      
      // Clear file name
      document.getElementById('fileName').textContent = '';
      
      // Clear all errors
      document.querySelectorAll('.error-message').forEach(el => {
        el.classList.remove('show');
      });
      document.querySelectorAll('.error').forEach(el => {
        el.classList.remove('error');
      });
    }

    // Real-time validation
    document.querySelectorAll('input, select, textarea').forEach(field => {
      field.addEventListener('blur', () => {
        if (field.value && field.id) {
          const errorId = field.id + 'Error';
          if (document.getElementById(errorId)) {
            // Trigger validation for this field
            if (currentStep === 1) {
              if (field.id === 'firstName' || field.id === 'lastName') {
                validateField(field.id, errorId, value => value.trim().length > 0);
              } else if (field.id === 'email') {
                validateField(field.id, errorId, value => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value));
              } else if (field.id === 'phone') {
                validateField(field.id, errorId, value => /^[\d\s\-\+\(\)]+$/.test(value) && value.length >= 10);
              } else if (field.id === 'linkedin' || field.id === 'portfolio') {
                if (field.value) {
                  validateField(field.id, errorId, value => /^https?:\/\/.+/.test(value));
                }
              }
            } else if (currentStep === 2) {
              if (field.id === 'position' || field.id === 'company' || field.id === 'skills' || field.id === 'experience') {
                validateField(field.id, errorId, value => value.trim().length > 0);
              } else if (field.id === 'salary') {
                validateField(field.id, errorId, value => value > 0);
              } else if (field.id === 'coverLetter') {
                validateField(field.id, errorId, value => value.trim().length >= 50);
              }
            }
          }
        }
      });

      // Clear error on input
      field.addEventListener('input', () => {
        const errorId = field.id + 'Error';
        if (document.getElementById(errorId)) {
          hideError(errorId, field.id);
        }
      });
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      // Alt + Arrow Right: Next step
      if (e.altKey && e.key === 'ArrowRight') {
        e.preventDefault();
        nextStep();
      }
      // Alt + Arrow Left: Previous step
      if (e.altKey && e.key === 'ArrowLeft') {
        e.preventDefault();
        prevStep();
      }
    });

    // Auto-save form data every 30 seconds
    setInterval(() => {
      saveStepData();
      localStorage.setItem('applicationData', JSON.stringify(formData));
    }, 30000);

    // Warn before leaving if form has data
    window.addEventListener('beforeunload', (e) => {
      if (Object.keys(formData).length > 0 && currentStep < totalSteps) {
        e.preventDefault();
        e.returnValue = '';
      }
    });
  </script>
</body>
</html>